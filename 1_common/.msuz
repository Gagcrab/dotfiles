# vim: set filetype=sh :

# Common settings for every system - these can be overrided in specific .msuz
# files
#
# vi is POSIX, so default to that
EDITOR=vi
SUDO_EDITOR=vi
export EDITOR SUDO_EDITOR

# fzf keybinds and completion
#
# <CTRL+T> list files+folders in current directory (e.g., git commit <CTRL+T>, select a few files using <TAB>, finally <Return>)
# <CTRL+R> search history of shell commands
# <ALT+C> fuzzy change directory
#
if [[ $SHELL == "bash" ]]; then
   source /usr/share/bash-completion/completions/fzf-key-bindings
   source /usr/share/bash-completion/completions/fzf
elif [[ $SHELL == "fish" ]]; then
   source /usr/share/fish/completions/fzf_key_bindings.fish
   source /usr/share/fish/completions/fzf.fish
fi

# Configurations for specific computers below
# We use Stow to install dotfiles, so we only need to check for file presence.
# . is POSIX-defined, so we use this in stead of 'source'
#
# Check for the new Linux cubepoota
if [ -f $HOME/.msuz_cubepoot ]; then
    . $HOME/.msuz_cubepoot
# Check for WSL config
elif [ -f $HOME/.msuz_wsl ]; then
    . $HOME/.msuz_wsl
# Check for old laptop config
elif [ -f $HOME/.msuz_x550cc ]; then
    . $HOME/.msuz_x550cc
fi
